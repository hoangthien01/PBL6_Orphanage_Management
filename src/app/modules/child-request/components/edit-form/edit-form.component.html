<dx-load-panel
  *ngIf="isLoading"
  [visible]="true"
  shadingColor="#ffffffcc"
  [showIndicator]="true"
  [showPane]="true"
  [shading]="true"
>
</dx-load-panel>
<div>
  <div class="back-btn my-4" (click)="backToPrevious()">
    <!-- <nb-icon icon="arrow-ios-back-outline"></nb-icon> -->
    <p>Back</p>
  </div>

  <h2 class="title">Edit Subsidiary Organization</h2>

  <div class="form-wrapper mt-4">
    <dx-validation-group>
      <div class="edit__form-container col-xl-6 col-lg-8 col-sm-12">
        <div class="form-group row">
          <label class="col-lg-12 col-sm-12 col-form-label">Organization name: </label>
          <div class="col">
            <dx-text-box valueChangeEvent="keyup" class="field-value__placeholder" [(value)]="organization.name">
              <dx-validator>
                <dxi-validation-rule type="required" [message]="'This field is required'"> </dxi-validation-rule>
              </dx-validator>
            </dx-text-box>
          </div>
        </div>

        <div class="form-group row">
          <label class="col-lg-12 col-sm-12 col-form-label">About your organization: </label>
          <div class="col">
            <dx-text-area class="field-value__placeholder" [height]="225" [(value)]="organization.description">
              <dx-validator>
                <dxi-validation-rule type="required" [message]="'This field is required'"> </dxi-validation-rule>
              </dx-validator>
            </dx-text-area>
          </div>
        </div>

        <div class="form-group row">
          <label class="col-lg-12 col-sm-12 col-form-label">Website: </label>
          <div class="col">
            <dx-text-box class="field-value__placeholder" [(value)]="organization.website">
              <dx-validator>
                <dxi-validation-rule type="required" [message]="'This field is required'"> </dxi-validation-rule>
              </dx-validator>
            </dx-text-box>
          </div>
        </div>

        <div class="form-group row">
          <label class="col-lg-12 col-sm-12 col-form-label">Street address: </label>
          <div class="col">
            <dx-text-box class="field-value__placeholder" [(value)]="organization.streetAddress">
              <dx-validator>
                <dxi-validation-rule type="required" [message]="'This field is required'"> </dxi-validation-rule>
              </dx-validator>
            </dx-text-box>
          </div>
        </div>

        <div class="form-group row">
          <label class="col-lg-12 col-sm-12 col-form-label">City: </label>
          <div class="col">
            <dx-text-box class="field-value__placeholder" [(value)]="organization.city">
              <dx-validator>
                <dxi-validation-rule type="required" [message]="'This field is required'"> </dxi-validation-rule>
              </dx-validator>
            </dx-text-box>
          </div>
        </div>

        <div class="form-group row">
          <div class="col-6 p-0">
            <label class="col-lg-12 col-sm-12 col-form-label">State: </label>
            <div class="col">
              <dx-select-box
                class="field-value__placeholder"
                placeholder="State"
                displayExpr="key"
                valueExpr="value"
                [(value)]="organization.state"
              >
                <!-- <dx-validator>
                  <dxi-validation-rule type="required" [message]="'Please select role'"> </dxi-validation-rule>
                </dx-validator> -->
              </dx-select-box>
            </div>
          </div>

          <div class="col-6 p-0">
            <label class="col-lg-12 col-sm-12 col-form-label">Zipcode: </label>
            <div class="col">
              <dx-text-box class="field-value__placeholder" [(value)]="organization.zipcode">
                <dx-validator>
                  <dxi-validation-rule type="required" [message]="'This field is required'"> </dxi-validation-rule>
                </dx-validator>
              </dx-text-box>
            </div>
          </div>
        </div>
        <div class="btn-group" [ngClass]="'mt-5'">
          <dx-button height="42" type="default" text="Save Changes" (onClick)="onSaveChanges($event)"> </dx-button>
          <span class="delete-btn ml-2" (click)="openDeleteOrganizationPopup()"> Delete location </span>
        </div>
      </div>
    </dx-validation-group>
  </div>
</div>

<ng-container *ngIf="isConfirmDeletePopup">
  <app-popup-confirmation [confirmButtonTitle]="'Yes'" [cancelButtonTitle]="'Cancel'" (onConfirm)="onDeleteOrganization($event)">
    <p>Are you sure that you want to delete this location?</p>
  </app-popup-confirmation>
</ng-container>
